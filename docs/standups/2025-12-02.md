# Day 39 - SEAME Automotive Journey

**Date:** Tuesday, December 2, 2025

**Team:** Bernardo, Gaspar, Hugo, Melanie, Miguel

---

## What We Did Today

The team focused on debugging STM32/Raspberry Pi CAN communication and evaluating communication protocols. Key achievements include identifying CAN message conversion errors, documenting UProtocol limitations, conducting an Eclipse Kuksa spike, and discovering GPIO pin conflicts between motor control and FDCAN.

---

## Team Progress

### Bernardo - Hardware Integration & Testing
- ğŸ”„ Debugging STM32 CAN communication issues
- ğŸ”„ Transitioning from a bare-metal main to a ThreadX implementation
- ğŸ”„ Working to establish reliable CAN communication

### Gaspar - OS & Development Environment
- ğŸ”„ Working on STM32/Raspberry Pi communication on the AGL side
- ğŸ”„ Preparing a CAN socket to receive speed sensor data from the STM32
- âœ… Identified a CAN message conversion error causing incorrect speed displays
- âœ… Removed loopback from CAN read functionality
- âœ… Created a cross-compilation build script for Automotive Grade Linux

### Hugo - Hardware & Fabrication
- âœ… Added more content to the CAN search documentation
- âœ… Added ThreadX app implementation details to the documentation
- âœ… Supported Bernardo and Gaspar on STM32/Raspberry Pi AGL CAN communications

### Melanie - GUI & Team Coordination
- âœ… Documented UProtocol evaluation conclusions
- âœ… Determined CAN is unsuitable for implementing UProtocol
- âœ… Analysis: CAN capacity limited to 8 bits per communication vs. UProtocol's ~40-byte size requirement
- âœ… Conducted Eclipse Kuksa spike research

### Miguel - GitHub Project & Agile/Scrum
- ğŸ”„ Improving DC and servo motor code
- ğŸ”„ Adapting code to work on different STM32 GPIO pins
- âŒ Discovered a pin conflict: PB8 and PB9 used for motors conflict with FDCAN pins
- ğŸ”„ Need to reconfigure GPIO pins to resolve the FDCAN conflict

---

## Hardware

**Motor GPIO Pin Conflict:**
- Miguel discovered that motor control pins (PB8/PB9) conflict with FDCAN pins
- The STM32 board's complexity makes pin configuration challenging
- This requires GPIO reconfiguration to resolve the hardware conflict

**CAN Communication Status:**
- The team is working on establishing reliable STM32-to-Raspberry Pi CAN communication
- Speed sensor data transmission is in progress

<p>
    <img width="500" height="700" alt="Gif" src="https://github.com/user-attachments/assets/1ed74533-886c-4b26-8964-a389af86e17b"/>
</p>
---

## Software

**Progress:**
- âœ… CAN search documentation expanded (Hugo)
- âœ… ThreadX implementation documented (Hugo)
- âœ… UProtocol evaluation completed (Melanie)
- âœ… Eclipse Kuksa spike research conducted (Melanie)
- âœ… CAN loopback removed (Gaspar)
- âœ… CAN conversion error identified (Gaspar)
- ğŸ”„ Debugging STM32 CAN communication with ThreadX (Bernardo)
- ğŸ”„ Preparing the AGL CAN socket (Gaspar)
- ğŸ”„ Reconfiguring motor code GPIO (Miguel)
- ğŸ”„ Researching alternative communication protocols/methods (Melanie)

---

## Challenges

**Problem:** CAN Message Conversion Error
- **Who:** Gaspar
- **Impact:** Medium
- **Solution:** Identified that the conversion from a CAN message to a speed value is incorrect, causing displayed speeds to be wrong. Working on fixing the code.

**Problem:** ThreadX CAN Communication Not Working
- **Who:** Bernardo
- **Impact:** High
- **Solution:** Debugging why CAN communication works on the bare-metal main but not with the ThreadX implementation. Investigating ThreadX configuration and initialization sequence.

---

## Decisions

**UProtocol Communication Method**
- **Decision:** CAN is unsuitable for implementing UProtocol
- **Rationale:** CAN capacity limitation (8 bits per communication) is insufficient for UProtocol's message size (~40 bytes)
- **Next steps:** Research alternative communication protocols and methods

---

## Standards & Research

**UProtocol Evaluation**
- Completed analysis of UProtocol-over-CAN feasibility
- Documented capacity limitations and size mismatches
- Conducted Eclipse Kuksa spike research

**CAN Implementation Documentation**
- ThreadX CAN implementation details documented
- CAN search and research documentation expanded
- Knowledge sharing on communication debugging processes

---

**Previous:** [2025-11-28.md](2025-11-28.md) | **Next:** [2025-12-03.md](2025-12-03.md)
