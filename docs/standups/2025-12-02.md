# Day 39 - SEAME Automotive Journey

**Date:** Tuesday, December 2, 2025

**Team:** Bernardo, Gaspar, Hugo, Melanie, Miguel

---

## What We Did Today

The team focused on debugging STM32/Raspberry Pi CAN communication and evaluating communication protocols. Key achievements include identifying CAN message conversion errors, documenting UProtocol limitations, conducting Eclipse Kuksa spike research, and discovering GPIO pin conflicts between motor control and FDCAN.

---

## Team Progress

### Bernardo - Hardware Integration & Testing
- ğŸ”„ Debugging STM32 CAN communication issues
- ğŸ”„ Transitioning from bare-metal main to ThreadX implementation
- ğŸ”„ Working to establish reliable CAN communication

### Gaspar - OS & Development Environment
- ğŸ”„ Working on STM32/Raspberry Pi communication on AGL side
- ğŸ”„ Preparing CAN socket to receive speed sensor data from STM32
- âœ… Identified CAN message conversion error causing incorrect speeds
- âœ… Removed loopback from CAN read functionality

### Hugo - Hardware & Fabrication
- âœ… Added more content to CAN search documentation
- âœ… Added ThreadX app implementation details to documentation
- âœ… Supported Bernardo and Gaspar on STM32/Raspberry Pi AGL CAN communications
- âœ… Helped with speed data transmission implementation

### Melanie - GUI & Team Coordination
- âœ… Documented UProtocol evaluation conclusions
- âœ… Determined CAN is unsuitable for UProtocol implementation
- âœ… Analysis: CAN capacity limited to 8 bits per communication vs UProtocol ~40-byte size requirement
- âœ… Conducted Eclipse Kuksa spike research

### Miguel - GitHub Project & Agile/Scrum
- ğŸ”„ Improving DC and servo motor code
- ğŸ”„ Adapting code to work on different STM32 GPIO pins
- âŒ Discovered pin conflict: PB8 and PB9 used for motors conflict with FDCAN pins
- ğŸ”„ Need to reconfigure GPIO pins to resolve FDCAN conflict

---

## Hardware

**Motor GPIO Pin Conflict:**
- Miguel discovered that motor control pins (PB8/PB9) conflict with FDCAN pins
- STM32 board complexity making pin configuration challenging
- Requires GPIO reconfiguration to resolve hardware conflict

**CAN Communication Status:**
- Team working on establishing reliable STM32 to Raspberry Pi CAN communication
- Speed sensor data transmission in progress
<p>
    <img width="500" height="700" alt="Gif" src="https://github.com/user-attachments/assets/7b253f23-8edf-4c61-a98a-189d310de775)"/>
</p>
---

## Software

**Progress:**
- âœ… CAN search documentation expanded (Hugo)
- âœ… ThreadX implementation documented (Hugo)
- âœ… UProtocol evaluation completed (Melanie)
- âœ… Eclipse Kuksa spike research conducted (Melanie)
- âœ… CAN loopback removed (Gaspar)
- âœ… CAN conversion error identified (Gaspar)
- ğŸ”„ STM32 CAN communication debugging with ThreadX (Bernardo)
- ğŸ”„ AGL CAN socket preparation (Gaspar)
- ğŸ”„ Motor code GPIO reconfiguration (Miguel)
- ğŸ”„ Alternative communication protocol research (Melanie)

---

## Challenges

**Problem:** CAN Message Conversion Error
- **Who:** Gaspar
- **Impact:** High
- **Solution:** Identified that the conversion from CAN message to speed value is incorrect, causing wrong speed displays. Working on fixing the code.

**Problem:** ThreadX CAN Communication Not Working
- **Who:** Bernardo
- **Impact:** High
- **Solution:** Debugging why CAN communication works on bare-metal main but not with ThreadX implementation. Investigating ThreadX configuration and initialization sequence.

---

## Decisions

**UProtocol Communication Method:**
- **Decision:** CAN determined unsuitable for UProtocol implementation
- **Rationale:** CAN capacity limitation (8 bits per communication) insufficient for UProtocol message size (~40 bytes)
- **Next Steps:** Research alternative communication protocols/methods

---

## Standards & Research

**UProtocol Evaluation:**
- Completed analysis of UProtocol over CAN feasibility
- Documented capacity limitations and size mismatches
- Eclipse Kuksa spike research conducted 

**CAN Implementation Documentation:**
- ThreadX CAN implementation details documented
- CAN search and research documentation expanded
- Knowledge sharing on communication debugging process

---

**Previous:** [2025-11-28.md](2025-11-28.md) | **Next:** [2025-12-03.md](2025-12-03.md)
