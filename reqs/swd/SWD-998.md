---
id: SWD-998
header: "Motor Speed Sensor Software Design"
text: |
  "The software driver shall implement RPM calculation from GPIO pulses, with error handling and range validation."

# TSF Type: Assertion (Both a Request and a Claim)

ASIL: "A"  # From HARA: S1 (light injury) + E2 (low exposure) + C1 (simply controllable) = ASIL A

verification_method: "Unit Testing, Code Review, Static Analysis"

# Links: Connects to parent Assertion
parents:
  - id: SRD-998

# Links: Connects to child Evidence
children:
  - id: LLTC-998
  - id: LLTC-997
  - id: LLTC-996

reviewers:
  - name: "Software Engineer"
    email: "sw@team.com"

reviewed: '2025-11-04 - Approved by Software Engineer <sw@team.com>'

# Evidence Linking (10 artifacts linked)
references:
  - type: "file"
    path: "src/sensors/motor_speed.cpp"
    description: "Source code implementation"
  - type: "file"
    path: "src/sensors/motor_speed.h"
    description: "Header file with class definition"
  - type: "file"
    path: "docs/design/architecture/motor_system_architecture.md"
    description: "System architecture diagram"
  - type: "file"
    path: "docs/design/interfaces/gpio_sensor_interface.md"
    description: "GPIO interface specification"
  - type: "file"
    path: "docs/hardware/sensor_selection.md"
    description: "Sensor selection analysis"
  - type: "file"
    path: "docs/standards/iso26262/hara-motor-speed.md"
    description: "HARA document (compliance)"
  - type: "file"
    path: "docs/standards/iso26262/asil-justification-SWD-998.md"
    description: "ASIL justification document (compliance)"
  - type: "file"
    path: "artifacts/verification/tests/LLTC-998-junit.xml"
    description: "Unit test results (5/5 pass)"
  - type: "file"
    path: "artifacts/verification/static-analysis/cppcheck-SWD-998.xml"
    description: "Static analysis report (0 errors)"
  - type: "file"
    path: "artifacts/verification/coverage/coverage-SWD-998.xml"
    description: "Code coverage report (87%)"

# Evidence Blocks (for automated validation - requires custom validators; no score without implementation)

# evidence:
#   type: "coverage_threshold_validator"
#   references:
#     - type: "file"
#       path: "artifacts/verification/coverage/coverage-SWD-998.xml"
#   configuration:
#     min_line_rate: 80

active: true
derived: false
normative: true
level: 3.0  # 1.0=URD, 2.0=SRD, 3.0=SWD, 4.0=LLTC
---

## Software Design Requirement Statement
The software shall:
- Read pulses from GPIO pin over 1s window.
- Calculate RPM as pulses * 60.
- Validate RPM in 0-10000 range.
- Set error flag on invalid readings.
- Provide last valid RPM on request.
- Clear error flag manually.
